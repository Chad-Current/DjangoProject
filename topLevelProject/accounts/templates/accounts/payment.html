{% load static %}
<!DOCTYPE html>
<html="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="{% static 'baseapp/css/stylesheet.css' %}" type="text/css">
        <link rel="stylesheet" href="{% static 'accounts/css/payment.css' %}" type="text/css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <linkh
            href="https://fonts.googleapis.com/css2?family=Courgette&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
            rel="stylesheet">
    </head>

    <body>
{% include 'baseapp/navbar.html' %}
{% block content %}
<div class="payment-container">
    <h1 style="text-align: center; margin-bottom: 10px;">Choose Your Plan</h1>
    <p style="text-align: center; color: #666; margin-bottom: 40px;">
        Select the subscription tier that best fits your needs
    </p>
    
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
    
    <div class="pricing-cards">
        <!-- Essentials Tier -->
        <div class="pricing-card">
            <div class="tier-name">Essentials</div>
            <div class="tier-price">
                <span class="currency">$</span>297
                <div class="period">one-time payment</div>
            </div>
            
            <ul class="tier-features">
                <li>Full edit access for 1 year</li>
                <li>Add, change, and delete data</li>
                <li>View-only access forever after 1 year</li>
                <li>Email support</li>
                <li>Regular updates</li>
            </ul>
            
            <button class="select-tier-btn essentials-btn" onclick="openPaymentModal('essentials', 99.99)">
                Select Essentials
            </button>
        </div>
        
        <!-- Legacy Tier -->
        <div class="pricing-card recommended">
            <div class="tier-name">Legacy</div>
            <div class="tier-price">
                <span class="currency">$</span>597
                <div class="period">one-time payment</div>
            </div>
            
            <ul class="tier-features">
                <li>Lifetime full access</li>
                <li>Add, change, and delete data forever</li>
                <li>Never lose edit permissions</li>
                <li>Priority email support</li>
                <li>All future updates included</li>
                <li>Best value for long-term use</li>
            </ul>
            
            <button class="select-tier-btn legacy-btn" onclick="openPaymentModal('legacy', 299.99)">
                Select Legacy
            </button>
        </div>
    </div>
</div>

<!-- Payment Modal -->
<div id="paymentModal" class="payment-modal">
    <div class="payment-modal-content">
        <span class="close-modal" onclick="closePaymentModal()">&times;</span>
        <h2 id="modal-title">Complete Your Purchase</h2>
        <p id="modal-description"></p>
        
        <form id="payment-form">
            {% csrf_token %}
            <input type="hidden" id="selected-tier" name="tier_choice" value="">
            
            <div id="card-element"></div>
            <div id="card-errors" class="card-errors" role="alert"></div>
            
            <div class="spinner" id="loading-spinner"></div>
            
            <button type="submit" id="submit-payment">
                <span id="button-text">Pay Now</span>
            </button>
        </form>
        
        <p style="text-align: center; margin-top: 20px; font-size: 12px; color: #666;">
            Secured by Stripe. Your payment information is encrypted.
        </p>
    </div>
</div>
{% endblock %}

        {% include "baseapp/footer.html" %}


        <script src="https://kit.fontawesome.com/ea6a27c21b.js" crossorigin="anonymous"></script>
        <script src="{% static 'baseapp/js/index.js' %}"></script>
        <script src="{% static 'accounts/js/payment.js' %}"></script>
        <!-- End body-->
    </body>


    </html>