# Generated by Django 6.0.1 on 2026-01-22 21:55

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Account',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('account_name', models.CharField(help_text='Account name or service', max_length=200)),
                ('account_category', models.CharField(choices=[('email', 'Email Account'), ('social_media', 'Social Media Account'), ('cloud_storage', 'Cloud Storage Account'), ('streaming_media', 'Streaming Media Account'), ('ecommerce_marketplace', 'Ecommerce Marketplace Account'), ('online_banking', 'Online Banking Account'), ('neobank_digital_bank', 'Neobank/Digital Bank Account'), ('brokerage_investment', 'Brokerage/Investment Account'), ('cryptocurrency_exchange', 'Cryptocurrency Exchange Account'), ('payment_wallet', 'Payment Wallet Account'), ('payment_processor', 'Payment Processor Account'), ('productivity_collaboration', 'Productivity/Collaboration Account'), ('developer_platform', 'Developer Platform Account'), ('app_store', 'App Store Account'), ('gaming_platform', 'Gaming Platform Account'), ('forum_community', 'Forum/Community Account'), ('education_elearning', 'Education/Elearning Account'), ('subscription_saas', 'Subscription/SaaS Account'), ('government_portal', 'Government Portal Account'), ('utilities_telecom_portal', 'Utilities/Telecom Portal Account'), ('health_portal', 'Health Portal Account'), ('smart_home_iot', 'Smart Home/IoT Account'), ('travel_booking', 'Travel Booking Account'), ('ride_hailing_delivery', 'Ride-Hailing/Delivery Account'), ('password_manager', 'Password Manager Account'), ('not_listed', 'Not Listed')], default='email', max_length=200)),
                ('provider', models.CharField(help_text='Company/service provider', max_length=200)),
                ('website_url', models.URLField(blank=True, validators=[django.core.validators.URLValidator()])),
                ('username_or_email', models.CharField(blank=True, help_text='Username or email used for login', max_length=200)),
                ('credential_storage_location', models.CharField(blank=True, help_text='Where password is stored (e.g., 1Password, LastPass)', max_length=500)),
                ('is_critical', models.BooleanField(default=False, help_text='Mark as critical/important account')),
                ('keep_or_close_instruction', models.CharField(choices=[('keep', 'Keep Active'), ('close', 'Close Account'), ('memorialize', 'Memorialize'), ('other', 'Other (See Notes)')], default='other', max_length=20)),
                ('notes_for_family', models.TextField(blank=True, help_text='Instructions or notes for family members')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'accounts',
                'ordering': ['-is_critical', 'account_name'],
            },
        ),
        migrations.CreateModel(
            name='CheckupType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('frequency', models.CharField(choices=[('monthly', 'Monthly'), ('quarterly', 'Quarterly'), ('semi-annual', 'Semi-Annual'), ('annual', 'Annual')], max_length=20)),
                ('description', models.TextField(blank=True)),
            ],
            options={
                'db_table': 'checkup_types',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Contact',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=200)),
                ('relationship', models.CharField(help_text='e.g., Spouse, Child, Friend, Attorney', max_length=100)),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('phone', models.CharField(blank=True, max_length=20)),
                ('address', models.TextField(blank=True)),
                ('is_emergency_contact', models.BooleanField(default=False)),
                ('is_digital_executor', models.BooleanField(default=False)),
                ('is_caregiver', models.BooleanField(default=False)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'contacts',
                'ordering': ['full_name'],
            },
        ),
        migrations.CreateModel(
            name='DelegationScope',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
            ],
            options={
                'db_table': 'delegation_scopes',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='DigitalEstateDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('version', models.CharField(default='1.0', max_length=20)),
                ('is_active', models.BooleanField(default=True, help_text='Is this the current active document?')),
                ('overall_instructions', models.TextField(blank=True, help_text='General instructions for family')),
                ('location_of_legal_will', models.TextField(blank=True)),
                ('location_of_password_manager_instructions', models.TextField(blank=True)),
                ('wishes_for_social_media', models.TextField(blank=True)),
                ('wishes_for_photos_and_files', models.TextField(blank=True)),
                ('data_retention_preferences', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'digital_estate_documents',
                'ordering': ['-is_active', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='DocumentCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('sort_order', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name_plural': 'Document categories',
                'db_table': 'document_categories',
                'ordering': ['sort_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='AccountRelevanceReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('review_date', models.DateTimeField(auto_now_add=True)),
                ('matters', models.BooleanField(default=True, help_text='Does this account still matter?')),
                ('reasoning', models.TextField(blank=True)),
                ('next_review_due', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('account_relevance', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='Accoun', to='dashboard.account')),
                ('reviewer', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='account_reviews', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'account_relevance_reviews',
                'ordering': ['-review_date'],
            },
        ),
        migrations.CreateModel(
            name='FamilyNeedsToKnowSection',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('heading', models.CharField(max_length=200)),
                ('sort_order', models.IntegerField(default=0)),
                ('content', models.TextField(help_text='What family needs to know')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('document', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='family_sections', to='dashboard.digitalestatedocument')),
            ],
            options={
                'db_table': 'family_needs_to_know_sections',
                'ordering': ['document', 'sort_order', 'heading'],
            },
        ),
        migrations.CreateModel(
            name='Profile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=200)),
                ('date_of_birth', models.DateField(blank=True, null=True)),
                ('primary_email', models.EmailField(max_length=254)),
                ('phone_number', models.CharField(blank=True, max_length=20)),
                ('notes', models.TextField(blank=True, help_text='Personal notes')),
                ('has_digital_executor', models.BooleanField(default=False, help_text='Have you designated a digital executor?')),
                ('digital_executor_name', models.CharField(blank=True, max_length=200)),
                ('digital_executor_contact', models.CharField(blank=True, help_text='Email or phone number', max_length=200)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'profiles',
                'ordering': ['user'],
            },
        ),
        migrations.CreateModel(
            name='ImportantDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('physical_location', models.TextField(blank=True, help_text='Where physical document is stored')),
                ('digital_location', models.CharField(blank=True, help_text='Where digital copy is stored', max_length=500)),
                ('file', models.FileField(blank=True, help_text='Upload digital copy', null=True, upload_to='documents/%Y/%m/')),
                ('requires_legal_review', models.BooleanField(default=False, help_text='Needs legal professional review')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('category', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='documents', to='dashboard.documentcategory')),
                ('profile', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='important_documents', to='dashboard.profile')),
            ],
            options={
                'db_table': 'important_documents',
                'ordering': ['category', 'title'],
            },
        ),
        migrations.CreateModel(
            name='EmergencyContact',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('contact_name', models.CharField(max_length=200)),
                ('body', models.TextField(help_text='Emergency message content')),
                ('contact_relation', models.CharField(choices=[('Spouse', 'Spouse'), ('Mother', 'Mother'), ('Father', 'Father'), ('Sister', 'Sister'), ('Brother', 'Brother'), ('Daughter', 'Daughter'), ('Son', 'Son'), ('Mother-in-law', 'Mother-in-law'), ('Father-in-law', 'Father-in-low'), ('Sister-in-law', 'Sister-in-law'), ('Brother-in-law', 'Brother-in-law'), ('Daughter-in-law', 'Daughter-in-law'), ('Son-in-Law', 'Son-in-Law'), ('Cousin', 'Cousin'), ('Other', 'Other')], max_length=50)),
                ('is_emergency_contact', models.BooleanField(default=False)),
                ('is_digital_executor', models.BooleanField(default=False)),
                ('is_caregiver', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('profile', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='emergency_contacts', to='dashboard.profile')),
            ],
            options={
                'db_table': 'emergency_contacts',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='digitalestatedocument',
            name='profile',
            field=models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='estate_documents', to='dashboard.profile'),
        ),
        migrations.CreateModel(
            name='Device',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('device_type', models.CharField(choices=[('phone', 'Phone'), ('tablet', 'Tablet'), ('laptop', 'Laptop'), ('desktop', 'Desktop'), ('smartwatch', 'Smart Watch'), ('other', 'Other')], max_length=20)),
                ('name', models.CharField(help_text='Device name or model', max_length=200)),
                ('owner_label', models.CharField(blank=True, help_text="e.g., 'Mom's iPhone', 'Work Laptop'", max_length=100)),
                ('location_description', models.CharField(blank=True, help_text='Where device is typically kept', max_length=200)),
                ('unlock_method_description', models.CharField(blank=True, help_text='How to unlock (without revealing actual password)', max_length=200)),
                ('used_for_2fa', models.BooleanField(default=False, help_text='Used for two-factor authentication')),
                ('decommission_instruction', models.TextField(blank=True, help_text='What to do with this device after death')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('profile', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='devices', to='dashboard.profile')),
            ],
            options={
                'db_table': 'devices',
                'ordering': ['device_type', 'name'],
            },
        ),
        migrations.CreateModel(
            name='DelegationGrant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('applies_on_death', models.BooleanField(default=False)),
                ('applies_on_incapacity', models.BooleanField(default=False)),
                ('applies_immediately', models.BooleanField(default=False)),
                ('notes_for_contact', models.TextField(blank=True, help_text='Instructions for the contact')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('contact', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='delegations_received', to='dashboard.contact')),
                ('scope', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='grants', to='dashboard.delegationscope')),
                ('profile', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='delegation_grants', to='dashboard.profile')),
            ],
            options={
                'db_table': 'delegation_grants',
                'ordering': ['contact', 'scope'],
            },
        ),
        migrations.AddField(
            model_name='contact',
            name='profile',
            field=models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='contacts', to='dashboard.profile'),
        ),
        migrations.CreateModel(
            name='Checkup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('due_date', models.DateField()),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('summary', models.TextField(blank=True)),
                ('all_accounts_reviewed', models.BooleanField(default=False)),
                ('all_devices_reviewed', models.BooleanField(default=False)),
                ('contacts_up_to_date', models.BooleanField(default=False)),
                ('documents_up_to_date', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('completed_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='completed_checkups', to=settings.AUTH_USER_MODEL)),
                ('checkup_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='checkups', to='dashboard.checkuptype')),
                ('profile', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='checkups', to='dashboard.profile')),
            ],
            options={
                'db_table': 'checkups',
                'ordering': ['-due_date'],
            },
        ),
        migrations.CreateModel(
            name='CareRelationship',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('relationship_type', models.CharField(choices=[('caregiver', 'Caregiver'), ('healthcare-proxy', 'Healthcare Proxy'), ('power-of-attorney', 'Power of Attorney'), ('trustee', 'Trustee'), ('other', 'Other')], max_length=30)),
                ('has_portal_access', models.BooleanField(default=False, help_text='Has access to digital estate portal')),
                ('portal_role', models.CharField(blank=True, choices=[('view-only', 'View Only'), ('editor', 'Editor'), ('admin', 'Administrator')], default='view-only', max_length=20)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('contact', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='care_relationships', to='dashboard.contact')),
                ('profile', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='care_relationships', to='dashboard.profile')),
            ],
            options={
                'db_table': 'care_relationships',
                'ordering': ['contact'],
            },
        ),
        migrations.CreateModel(
            name='AccountDirectoryEntry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('label', models.CharField(max_length=200)),
                ('category_label', models.CharField(blank=True, max_length=100)),
                ('website_url', models.URLField(blank=True)),
                ('username_hint', models.CharField(blank=True, help_text='Hint about username (not the actual username)', max_length=200)),
                ('criticality', models.CharField(choices=[('critical', 'Critical'), ('important', 'Important'), ('nice-to-have', 'Nice to Have')], default='nice-to-have', max_length=20)),
                ('action_after_death', models.CharField(choices=[('keep', 'Keep'), ('close', 'Close'), ('memorialize', 'Memorialize'), ('transfer', 'Transfer to Family')], default='close', max_length=20)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('profile', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='account_directory_entries', to='dashboard.profile')),
            ],
            options={
                'verbose_name_plural': 'Account directory entries',
                'db_table': 'account_directory_entries',
                'ordering': ['criticality', 'label'],
            },
        ),
        migrations.AddField(
            model_name='account',
            name='profile',
            field=models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='accounts', to='dashboard.profile'),
        ),
        migrations.CreateModel(
            name='RecoveryRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('target_description', models.CharField(help_text='Description of account to recover', max_length=500)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('in-progress', 'In Progress'), ('completed', 'Completed'), ('denied', 'Denied'), ('cancelled', 'Cancelled')], default='pending', max_length=20)),
                ('provider_ticket_number', models.CharField(blank=True, max_length=100)),
                ('steps_taken', models.TextField(blank=True)),
                ('outcome_notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('profile', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='recovery_requests', to='dashboard.profile')),
                ('requested_by', models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, related_name='recovery_requests_made', to=settings.AUTH_USER_MODEL)),
                ('target_account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='recovery_requests', to='dashboard.account')),
            ],
            options={
                'db_table': 'recovery_requests',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddIndex(
            model_name='contact',
            index=models.Index(fields=['profile', 'full_name'], name='contacts_profile_d4bb5b_idx'),
        ),
        migrations.AddIndex(
            model_name='account',
            index=models.Index(fields=['profile', '-created_at'], name='accounts_profile_bd7b53_idx'),
        ),
        migrations.AddIndex(
            model_name='account',
            index=models.Index(fields=['account_category'], name='accounts_account_0ed7bc_idx'),
        ),
    ]
