{% load static %}
<!DOCTYPE html>
<html="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="{% static 'baseapp/css/stylesheet.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'baseapp/css/index.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'dashboard/css/stylesheet.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'dashboard/css/progress.css' %}" type="text/css">
    <link
      href="https://fonts.googleapis.com/css2?family=Courgette&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
      rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  </head>

  <body>
    
    {% include "baseapp/navbar.html" %}
    <div class="main">
    <div class="head-container mt-10">
      <div class="main-1">
        {% if not profile.full_name %}
        <h1>Welcome {{ user.username }} </h1>
        {% else %}
        <h1>Welcome back {{ profile.full_name|default:user.username }}</tag>
          {% endif %}
      </div>
      <div class="main-2 pd-1 bg-pure bdr-round"><img src="/static/accounts/images/Task--Streamline-Plump.svg"
          class="img-sm" />
        <h4>{{ remaining_tasks }} Task Remaining</h4>
      </div>
      <div class="main-3 pd-1 bg-pure bdr-round">
        <img src="/static/accounts/images/Reset-Clock--Streamline-Plump.svg" class="img-sm" />
        <h4>{{ upcoming_review_days }} Days Until Review</h4>
      </div>
      <div class="main-4 pd-1 bg-pure bdr-round"><img
          src="/static/accounts/images/User-Protection-Check--Streamline-Plump.svg" class="img-sm" />
        <h4>Accounts Secured</h4>
      </div>
      <div class="main-5">
        <div class="dashboard-section">
          <!-- Hidden input to pass progress value to JavaScript -->
          <input type="hidden" id="progress-value" value="{{ progress|default:0 }}">
          {% include 'dashboard/progress-circle.html' %}
        </div>
      </div>
    </div>


    <div class="mt-5 ms-2">
      <h1>Digital Estate</h1>
    </div>
    <div class="parent row  wrap mg-2 col-gap-1 row-gap-1">
      <!-- ACCOUNTS AREA-->
      <div class="client-cards bdr-light pd-1">
        <div class="cl-card-1"><img src="/static/accounts/images/Padlock-Key--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not user.profile.accounts.all.count >= 1 %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Accounts with access details</h5>
          <p>{{ user.profile.accounts.all.count }} accounts tracked</p>
        </div>
        <div class="cl-card-4">
          <p>{{ user.profile.accounts.last.updated_at }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:account_list' %}"><button class="button">View</button></a>
        </div>
      </div>
      <!-- DEVICES AREA-->
      <div class=" client-cards bdr-light pd-1">
        <div class="cl-card-1"><img src="/static/accounts/images/Computer--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not devices_count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Devices details</h5>
          <p>{{ devices_count }} devices tracked</p>
        </div>
        <div class="cl-card-4">
          <p>{{ user.profile.devices.last.updated_at }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:device_list' %}"><button class="button">View</button></a>
        </div>
      </div>
      <!-- EMERGENCY AREA-->
      <div class=" client-cards bdr-light pd-1">
        <div class="cl-card-1"><img src="/static/accounts/images/Emergency--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not emergency_contacts_count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Emergency Contact + Delegation</h5>
          <p>{{emergency_contacts_count}} Emergency Contacts</p>
        </div>
        <div class="cl-card-4">
          <p>{{ user.profile.emergency_contacts.last.updated_at }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:emergencycontact_list' %}"><button class="button">View</button></a>
        </div>
      </div>
      <!-- DIGITAL ESTATE DOCUMENTS AREA-->
      <div class=" client-cards bdr-light pd-1">
        <div class="cl-card-1"><img src="/static/accounts/images/Script--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not documents_count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Digital Estate Document</h5>
          <p>Your comprehensive digital will and estate plan</p>
          <p>{{ documents_count }} Documents</p>
        </div>
        <div class="cl-card-4">
          <p>{{ user.profile.important_documents.last.updated_at }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:importantdocument_list' %}"><button class="button">View</button></a>
        </div>
      </div>
      <!-- FAMILY CARE AREA-->
      <div class=" client-cards bdr-light pd-1">
        <div class="cl-card-1"><img src="/static/accounts/images/Family--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not family_needs_to_know_count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>What My Family Needs to Know</h5>
          <p>Personal instructions and wishes for your loved ones</p>
        </div>
        <div class="cl-card-4">
          <p>Date | Time</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:importantdocument_list' %}"><button class="button">View</button></a>
        </div>
      </div>
      <!-- IMPORTANT INFORMATION AREA -->
      <div class=" client-cards bdr-light pd-1">
        <div class="cl-card-1"><img src="/static/accounts/images/Matters--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not user.profile.importantdocument.all.count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>What Matters vs What to Ignore</h5>
          <p>Priority matrix for critical vs non-essential accounts</p>
        </div>
        <div class="cl-card-4">
          <p>45 critical accounts</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:importantdocument_list' %}"><button class="button">View</button></a>
        </div>
      </div>
      <!-- PROFILE AREA -->
      <div class=" client-cards bdr-light pd-1">
        <div class="cl-card-1"><img src="/static/accounts/images/Matters--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not user.profile.full_name %}
          <tag class="needs-attention">Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>My Profile</h5>
          <p>Personal information area</p>
        </div>
        <div class="cl-card-4">
          <p>{{ user.username }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:profile_detail' %}"><button class="button">View</button></a>
        </div>
      </div>
    </div>

    <div class="ms-2 mg-10">
      <h1>Scheduled Reviews & Checkups</h1>
    </div>
    <div class="parent row flex-between mg-4 col-gap-1 row-gap-1">
      <!-- QUARTERLY REVIEW AREA -->
      <div class=" client-cards bdr-light pd-1 w40">
        <div class="cl-card-1"><img src="/static/accounts/images/Calendar-Mark--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if alert_due %}
          <tag class="needs-attention">Out of Date</tag>
          {% elif alert_attention %}
          <tag class="alert-attention">Upcoming</tag>
          {% else %}
          <tag class="completed">Current</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Quarterly Digital Checkup</h5>
          <p>Quick review of recent account changes and updates</p>
        </div>
        <div class="cl-card-4">
          <p>{{ upcoming_review_days }} until your next review</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:checkup_list' %}"><button class="button">Update Now</button></a>
        </div>
      </div>
      <!-- ANNUAL REVIEW AREA -->
      <div class=" client-cards bdr-light pd-1 w40">
        <div class="cl-card-1"><img src="/static/accounts/images/Calendar-Add--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if alert_due_year %}
          <tag class="needs-attention">Out of Date</tag>
          {% elif alert_attention_year %}
          <tag class="alert-attention">Upcoming</tag>
          {% else %}
          <tag class="completed">Current</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Annual Update + Re-certification</h5>
          <p>Comprehensive review and re-certify your digital estate</p>
        </div>
        <div class="cl-card-4">
          <p>{{ furthest_review_days }} until your next review</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:accountrelevancereview_list' %}"><button class="button">Update Now</button></a>
        </div>
      </div>
    </div>
    </div>

    {% include "baseapp/footer.html" %}


    <!-- <script src="{% static 'accounts/js/index.js' %}"></script> -->
    <script src="https://kit.fontawesome.com/ea6a27c21b.js" crossorigin="anonymous"></script>
    <script src="{% static 'dashboard/js/progress.js' %}"></script>
    <!-- End body-->
  </body>


  </html>