{% load static %}
<!DOCTYPE html>
<html="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="{% static 'baseapp/css/stylesheet.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'baseapp/css/index.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'accounts/css/stylesheet.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'dashboard/css/progress.css' %}" type="text/css">
    <link
      href="https://fonts.googleapis.com/css2?family=Courgette&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
      rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  </head>

  <body>
    {% include "baseapp/navbar.html" %}
    <div class="parent-row-x">
      <div class="section-header">
        {% if not profile.full_name %}
        <h1>Welcome {{ user.username }} </h1>
          {% else %}
          <h1>Welcome back {{ profile.full_name|default:user.username }}</tag>
            {% endif %}
      </div>

     <div class="card-grid">
        <div class="card-1">
          <div class="row">
            <div class="dashboard-section">
                    <!-- Hidden input to pass progress value to JavaScript -->
                    <input type="hidden" id="progress-value" value="{{ progress|default:0 }}">
                    {% include 'dashboard/progress-circle.html' %}
                </div>
          </div>
          <h5>Overall Progress</h5>
        </div>
        <div class="card-2"><img src="/static/accounts/images/Task--Streamline-Plump.svg" />
          <h5>Task Completed</h5>
          <p>Two Task Remaining</p>
        </div>
        <div class="card-3">
          <img src="/static/accounts/images/Reset-Clock--Streamline-Plump.svg" />
          <h5>Days Until Review</h5>
          <p>{{ upcoming_review_days }} </p>
        </div>
        <div class="card-4"><img src="/static/accounts/images/User-Protection-Check--Streamline-Plump.svg" />
          <h5>Accounts Secured</h5>
          <p>All Organized</p>
        </div>
      </div>
    </div>

    <div class="section-header">
      <h1>Digital Estate</h1>
    </div>
    <div class="section-mt-5">
<!-- ACCOUNTS AREA-->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Padlock-Key--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not user.profile.accounts.all.count >= 1 %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Accounts with access details</h5>
          <p>{{ accounts_count }} accounts tracked</p>
        </div>
        <div class="cl-card-4">
          <p>{{ account.last.updated_at }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:account_list' %}"><button class="button">View</button></a>
        </div>
      </div>
<!-- DEVICES AREA-->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Computer--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not devices_count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Devices details</h5>
          <p>{{ devices_count }} devices tracked</p>
        </div>
        <div class="cl-card-4">
          <p>{{ user.profile.devices.last.updated_at }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:device_list' %}"><button class="button">View</button></a>
        </div>
      </div>
<!-- EMERGENCY AREA-->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Emergency--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not emergency_contacts_count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Emergency Contact + Delegation</h5>
          <p>{{emergency_contacts_count}} Emergency Contacts</p>
        </div>
        <div class="cl-card-4">
          <p>{{ user.profile.emergency_contacts.last.updated_at  }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:emergencycontact_list' %}"><button class="button">View</button></a>
        </div>
      </div>
  <!-- DIGITAL ESTATE DOCUMENTS AREA-->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Script--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not delegation_count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Digital Estate Document</h5>
          <p>Your comprehensive digital will and estate plan</p>
        </div>
        <div class="cl-card-4">
          <p>Date | Time</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:account_list' %}"><button class="button">View</button></a>
        </div>
      </div>
<!-- FAMILY CARE AREA-->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Family--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not family_needs_to_know_count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>What My Family Needs to Know</h5>
          <p>Personal instructions and wishes for your loved ones</p>
        </div>
        <div class="cl-card-4">
          <p>Date | Time</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:importantdocument_list' %}"><button class="button">View</button></a>
        </div>
      </div>
<!-- IMPORTANT INFORMATION AREA -->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Matters--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not user.profile.devices.all.count %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>What Matters vs What to Ignore</h5>
          <p>Priority matrix for critical vs non-essential accounts</p>
        </div>
        <div class="cl-card-4">
          <p>45 critical accounts</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:importantdocument_list' %}"><button class="button">View</button></a>
        </div>
      </div>
<!-- PROFILE AREA -->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Matters--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if not user.profile.full_name %}
          <tag class="needs-attention">Needs Review</tag>
          {% else %}
          <tag class="completed">Complete</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>My Profile</h5>
          <p>Personal information area</p>
        </div>
        <div class="cl-card-4">
          <p>{{ user.username }}</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:profile_detail' %}"><button class="button">View</button></a>
        </div>
      </div>
    </div>

    <div class="section-header">
      <h1>Scheduled Reviews & Checkups</h1>
    </div>
    <div class="section-mt-6">
<!-- QUARTERLY REVIEW AREA -->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Calendar-Mark--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if alert_due %}
          <tag class="needs-attention">Out of Date</tag>
          {% elif alert_attention %}
          <tag class="alert-attention">Upcoming</tag>
          {% else %}
          <tag class="completed">Update to Date</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Quarterly Digital Checkup</h5>
          <p>Quick review of recent account changes and updates</p>
        </div>
        <div class="cl-card-4">
          <p>{{ upcoming_review_days }} until your next review</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:checkup_list' %}"><button class="button">Update Now</button></a>
        </div>
      </div>
<!-- ANNUAL REVIEW AREA -->
      <div class="client-cards border-light">
        <div class="cl-card-1"><img src="/static/accounts/images/Calendar-Add--Streamline-Plump.svg"></div>
        <div class="cl-card-2">
          {% if alert_due_year %}
          <tag class="alert-attention">Upcoming</tag>
          {% else %}
          <tag class="completed">Update to date</tag>
          {% endif %}
        </div>
        <div class="cl-card-3">
          <h5>Annual Update + Re-certification</h5>
          <p>Comprehensive review and re-certify your digital estate</p>
        </div>
        <div class="cl-card-4">
          <p>{{ furthest_review_days }} until your next review</p>
        </div>
        <div class="cl-card-5">
          <a href="{% url 'dashboard:accountrelevancereview_list' %}"><button class="button">Update Now</button></a>
        </div>
      </div>
    </div>

   {% include "baseapp/footer.html" %}


    <!-- <script src="{% static 'accounts/js/index.js' %}"></script> -->
    <script src="https://kit.fontawesome.com/ea6a27c21b.js" crossorigin="anonymous"></script>
    <script src="{% static 'dashboard/js/progress.js' %}"></script>   
    <!-- End body-->
  </body>


  </html>